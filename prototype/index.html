<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Habitat Architect</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Animated Background -->
        <div class="animated-bg">
            <div class="stars"></div>
            <div class="nebula"></div>
        </div>

        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <div class="logo-core"></div>
                        <div class="logo-ring"></div>
                    </div>
                    <h1 class="logo">Nexus Habitat Architect</h1>
                    <div class="version-badge">v2.0</div>
                </div>
                <div class="header-controls">
                    <button class="btn btn-primary glow" id="newDesign">
                        <span class="btn-icon">‚ú®</span>
                        New Design
                    </button>
                    <button class="btn btn-secondary" id="saveDesign">
                        <span class="btn-icon">üíæ</span>
                        Save
                    </button>
                    <button class="btn btn-secondary" id="loadDesign">
                        <span class="btn-icon">üìÅ</span>
                        Load
                    </button>
                    <button class="btn btn-accent" id="exportDesign">
                        <span class="btn-icon">üì§</span>
                        Export
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Panel - Mission Control -->
            <aside class="left-panel">
                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üéØ</span>
                        Mission Parameters
                    </h3>
                    <div class="parameter-grid">
                        <div class="param-item">
                            <label for="crewSize">Crew Size</label>
                            <div class="input-group">
                                <input type="number" id="crewSize" min="1" max="50" value="6">
                                <span class="input-suffix">people</span>
                            </div>
                        </div>
                        <div class="param-item">
                            <label for="missionDuration">Mission Duration</label>
                            <div class="input-group">
                                <input type="number" id="missionDuration" min="1" max="2000" value="365">
                                <span class="input-suffix">days</span>
                            </div>
                        </div>
                        <div class="param-item">
                            <label for="launchVehicle">Launch Vehicle</label>
                            <select id="launchVehicle" class="select-modern">
                                <option value="falcon-heavy">Falcon Heavy</option>
                                <option value="sls">Space Launch System</option>
                                <option value="starship">Starship</option>
                                <option value="new-glenn">New Glenn</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        <div class="param-item">
                            <label for="destination">Destination</label>
                            <select id="destination" class="select-modern">
                                <option value="mars">Mars</option>
                                <option value="moon">Lunar Surface</option>
                                <option value="leo">Low Earth Orbit</option>
                                <option value="deep-space">Deep Space</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üìê</span>
                        Habitat Dimensions
                    </h3>
                    <div class="dimension-controls">
                        <div class="dimension-item">
                            <label>Diameter</label>
                            <div class="slider-container">
                                <input type="range" id="diameterSlider" min="5" max="25" value="15" step="0.5">
                                <span class="slider-value" id="diameterValue">15.0m</span>
                            </div>
                        </div>
                        <div class="dimension-item">
                            <label>Length</label>
                            <div class="slider-container">
                                <input type="range" id="lengthSlider" min="10" max="60" value="30" step="1">
                                <span class="slider-value" id="lengthValue">30m</span>
                            </div>
                        </div>
                        <div class="dimension-item">
                            <label>Volume</label>
                            <div class="volume-display">
                                <span class="volume-value" id="volumeValue">5301m¬≥</span>
                                <div class="volume-bar">
                                    <div class="volume-fill" id="volumeFill"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üß©</span>
                        Module Library
                    </h3>
                    <div class="module-grid">
                        <div class="module-item" data-module="sleep" draggable="true">
                            <div class="module-icon">üõèÔ∏è</div>
                            <div class="module-info">
                                <span class="module-name">Sleep Pods</span>
                                <span class="module-size">2.5m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="hygiene" draggable="true">
                            <div class="module-icon">üöø</div>
                            <div class="module-info">
                                <span class="module-name">Hygiene</span>
                                <span class="module-size">1.5m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="kitchen" draggable="true">
                            <div class="module-icon">üçΩÔ∏è</div>
                            <div class="module-info">
                                <span class="module-name">Galley</span>
                                <span class="module-size">3.0m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="exercise" draggable="true">
                            <div class="module-icon">üí™</div>
                            <div class="module-info">
                                <span class="module-name">Gym</span>
                                <span class="module-size">4.0m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="work" draggable="true">
                            <div class="module-icon">üíª</div>
                            <div class="module-info">
                                <span class="module-name">Lab</span>
                                <span class="module-size">2.0m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="storage" draggable="true">
                            <div class="module-icon">üì¶</div>
                            <div class="module-info">
                                <span class="module-name">Storage</span>
                                <span class="module-size">1.0m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="life-support" draggable="true">
                            <div class="module-icon">üå¨Ô∏è</div>
                            <div class="module-info">
                                <span class="module-name">Life Support</span>
                                <span class="module-size">0.5m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="recreation" draggable="true">
                            <div class="module-icon">üéÆ</div>
                            <div class="module-info">
                                <span class="module-name">Recreation</span>
                                <span class="module-size">2.0m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="medical" draggable="true">
                            <div class="module-icon">üè•</div>
                            <div class="module-info">
                                <span class="module-name">Medical</span>
                                <span class="module-size">1.5m¬≤/person</span>
                            </div>
                        </div>
                        <div class="module-item" data-module="greenhouse" draggable="true">
                            <div class="module-icon">üå±</div>
                            <div class="module-info">
                                <span class="module-name">Greenhouse</span>
                                <span class="module-size">3.5m¬≤/person</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üèóÔ∏è</span>
                        Layout Options
                    </h3>
                    <div class="layout-options">
                        <button class="layout-btn active" data-layout="linear">
                            <span class="layout-icon">üìè</span>
                            Linear
                        </button>
                        <button class="layout-btn" data-layout="radial">
                            <span class="layout-icon">‚≠ï</span>
                            Radial
                        </button>
                        <button class="layout-btn" data-layout="multi-level">
                            <span class="layout-icon">üè¢</span>
                            Multi-Level
                        </button>
                        <button class="layout-btn" data-layout="spiral">
                            <span class="layout-icon">üåÄ</span>
                            Spiral
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Center - 3D Viewport -->
            <main class="viewport-container">
                <div class="viewport-header">
                    <h2 class="viewport-title">3D Habitat Visualization</h2>
                    <div class="viewport-controls">
                        <button class="control-btn" id="resetView" title="Reset View">
                            <span>üîÑ</span>
                        </button>
                        <button class="control-btn" id="toggleWireframe" title="Toggle Wireframe">
                            <span>üî≤</span>
                        </button>
                        <button class="control-btn" id="toggleGrid" title="Toggle Grid">
                            <span>‚äû</span>
                        </button>
                        <button class="control-btn" id="toggleLighting" title="Toggle Lighting">
                            <span>üí°</span>
                        </button>
                        <button class="control-btn" id="screenshot" title="Screenshot">
                            <span>üì∏</span>
                        </button>
                    </div>
                </div>
                <div id="three-container" class="three-container">
                    <div class="loading-overlay" id="loadingOverlay">
                        <div class="loading-spinner"></div>
                        <p>Initializing 3D Environment...</p>
                    </div>
                </div>
                <div class="viewport-info">
                    <div class="info-item">
                        <span class="info-label">Modules:</span>
                        <span class="info-value" id="moduleCount">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Utilization:</span>
                        <span class="info-value" id="utilization">0%</span>
                    </div>
                </div>
            </main>

            <!-- Right Panel - Analysis -->
            <aside class="right-panel">
                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üìä</span>
                        Design Analysis
                    </h3>
                    <div class="analysis-grid">
                        <div class="metric-card">
                            <div class="metric-icon">üìè</div>
                            <div class="metric-content">
                                <span class="metric-label">Total Volume</span>
                                <span class="metric-value" id="totalVolume">0m¬≥</span>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">üë•</div>
                            <div class="metric-content">
                                <span class="metric-label">Crew Density</span>
                                <span class="metric-value" id="crewDensity">0m¬≥/person</span>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">‚ö°</div>
                            <div class="metric-content">
                                <span class="metric-label">Efficiency</span>
                                <span class="metric-value" id="efficiency">0%</span>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">‚≠ê</div>
                            <div class="metric-content">
                                <span class="metric-label">Design Score</span>
                                <span class="metric-value" id="designScore">0/100</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">‚úÖ</span>
                        Validation
                    </h3>
                    <div class="validation-list" id="validationList">
                        <div class="validation-item success">
                            <span class="validation-icon">‚úÖ</span>
                            <span class="validation-text">Ready to begin design</span>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üìà</span>
                        Module Distribution
                    </h3>
                    <div class="distribution-chart" id="distributionChart">
                        <!-- Dynamic chart content -->
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <span class="title-icon">üîß</span>
                        Advanced Tools
                    </h3>
                    <div class="tool-grid">
                        <button class="tool-btn" id="optimizeLayout">
                            <span class="tool-icon">üéØ</span>
                            Optimize
                        </button>
                        <button class="tool-btn" id="compareLayouts">
                            <span class="tool-icon">‚öñÔ∏è</span>
                            Compare
                        </button>
                        <button class="tool-btn" id="generateReport">
                            <span class="tool-icon">üìã</span>
                            Report
                        </button>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Module Properties Modal -->
        <div class="modal" id="moduleModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Module Properties</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="moduleName">Module Name</label>
                        <input type="text" id="moduleName" placeholder="Enter module name">
                    </div>
                    <div class="form-group">
                        <label for="moduleSize">Size (m¬≤)</label>
                        <input type="number" id="moduleSize" min="1" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="modulePriority">Priority</label>
                        <select id="modulePriority">
                            <option value="critical">Critical</option>
                            <option value="important">Important</option>
                            <option value="optional">Optional</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="moduleColor">Color</label>
                        <input type="color" id="moduleColor" value="#4a90e2">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="saveModule">Save</button>
                    <button class="btn btn-danger" id="deleteModule">Delete</button>
                </div>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>